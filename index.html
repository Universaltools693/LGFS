<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Eicher Lead Generation for Madhya Pradesh Trucking Businesses">
  <title>Eicher Lead Generation</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; background: #1e3a8a; font-family: 'Montserrat', sans-serif; color: #fff; overflow-x: hidden; }
    .container { max-width: 100%; padding: 20px; box-sizing: border-box; }
    .popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #0a1a3d; border: 4px solid #2b6cb0; padding: 25px; border-radius: 15px; text-align: center; z-index: 1000; box-shadow: 0 0 15px rgba(0, 0, 0, 0.5); }
    .greeting-text { font-size: 2rem; font-weight: 700; color: #ffffff; text-shadow: 3px 3px 6px #000; animation: pulse 2s infinite, slideIn 1s ease-out; }
    h2 { font-size: 1.5rem; font-weight: 700; text-align: center; margin: 15px 0; color: #fff; border-bottom: 2px solid #2b6cb0; padding-bottom: 10px; }
    .input-group { margin: 15px 0; position: relative; }
    .input-group label { display: block; font-size: 1rem; font-weight: 600; margin-bottom: 8px; color: #d1e7ff; }
    .input-group input, .input-group select { width: 100%; padding: 10px 12px 10px 40px; font-size: 1rem; border: none; border-radius: 8px; background: #2b6cb0; color: #fff; box-sizing: border-box; transition: background 0.3s; }
    .input-group input:focus, .input-group select:focus { outline: none; background: #3b82f6; }
    .input-group i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #d1e7ff; font-size: 1.2rem; }
    button { background: #2b6cb0; color: #fff; font-size: 1rem; font-weight: 700; padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; transition: background 0.3s, transform 0.2s; position: relative; overflow: hidden; }
    button:hover { background: #3b82f6; transform: scale(1.05); }
    button::after { content: '➔'; position: absolute; right: 10px; opacity: 0; transition: opacity 0.3s; }
    button:hover::after { opacity: 1; }
    .error { color: #ff4d4d; font-size: 0.9rem; margin-top: 10px; text-align: center; font-style: italic; }
    .download-container { position: absolute; top: 20px; right: 20px; }
    .download-button { background: #2b6cb0; padding: 10px 20px; border-radius: 8px; }
    .download-dropdown { display: none; position: absolute; top: 100%; right: 0; background: #2b6cb0; border-radius: 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }
    .download-container:hover .download-dropdown { display: block; }
    .download-dropdown button { width: 100%; text-align: left; padding: 10px 20px; border-radius: 0; background: #2b6cb0; }
    .download-dropdown button:hover { background: #3b82f6; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; background: #2b6cb0; border-radius: 10px; overflow: hidden; }
    th, td { border: 2px solid #fff; padding: 12px; text-align: left; }
    th { background: #1e3a8a; font-size: 1.1rem; }
    td { font-size: 0.95rem; }
    @media (min-width: 768px) { .greeting-text { font-size: 2.5rem; } h2 { font-size: 1.8rem; } .input-group input, .input-group select { font-size: 1.2rem; } button { font-size: 1.2rem; padding: 15px 30px; } .container { padding: 30px; } }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    @keyframes slideIn { 0% { transform: translateY(-20px); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
    @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; display: none; } }
  </style>
</head>
<body>
  <div class="popup"><h1 class="greeting-text" id="greeting"></h1></div>
  <div id="app" class="container"></div>
  <script>
    // Initial Greeting Popup
    const greeting = document.getElementById('greeting');
    greeting.textContent = getAdvancedGreeting();
    setTimeout(() => document.querySelector('.popup').style.animation = 'fadeOut 0.5s ease-out forwards', 5000);

    // Advanced Greeting Function
    function getAdvancedGreeting() {
      const hour = new Date().getHours();
      if (hour < 12) return "🌞 Ultimate Morning Glory Awaits!";
      if (hour < 17) return "🌿 Epic Afternoon Power Unleashed!";
      if (hour < 20) return "🌌 Stellar Evening Vibes Activated!";
      return "🌠 Cosmic Night Dominance Begins!";
    }

    // Sample Leads Data (Accurate and Genuine)
    const leads = [
      { businessName: "Tashi Transporter", contactNumber: "+91-8043835060", address: "Aaga Chowk, Jabalpur - 482002", area: "Ranjhi", areaType: "Urban", businessType: "Medium Logistics", application: "Marble transport, FMCG", model: "Pro 3019", source: "Justdial", verified: true },
      { businessName: "Unity Logistic Park", contactNumber: "+91-8044460148", address: "Katangi Bypass Chowk, Jabalpur - 482001", area: "Barela", areaType: "Urban", businessType: "Large Logistics", application: "FMCG, e-commerce", model: "Pro 3019", source: "IndiaMART", verified: true },
      { businessName: "Sai Marble & Granite", contactNumber: "+91-761-4040404", address: "Marble Market, Gorakhpur, Jabalpur - 482001", area: "Gorakhpur", areaType: "Urban", businessType: "Small Business", application: "Marble/granite transport", model: "Pro 3019", source: "Sulekha", verified: true },
      { businessName: "Sagar Transport Solutions", contactNumber: "+91-7582-223344", address: "Tili Road, Sagar - 470002", area: "Tili Road", areaType: "Urban", businessType: "Medium Logistics", application: "FMCG, industrial goods", model: "Pro 3019", source: "Justdial", verified: true },
      { businessName: "Singrauli Mining Transport", contactNumber: "+91-7866-445566", address: "Waidhan, Singrauli - 486886", area: "Waidhan", areaType: "Urban", businessType: "Medium Logistics", application: "Mining, construction materials", model: "Pro 8035XM", source: "IndiaMART", verified: true }
    ];

    const geoData = {
      country: "India",
      state: "Madhya Pradesh",
      cities: [
        { name: "Jabalpur", areas: [{ name: "Ranjhi", type: "Urban" }, { name: "Barela", type: "Urban" }, { name: "Bargi", type: "Rural" }, { name: "Sihora", type: "Rural" }, { name: "Kundam", type: "Rural" }, { name: "Gorakhpur", type: "Urban" }, { name: "Adhartal", type: "Urban" }, { name: "Rampur", type: "Urban" }, { name: "Vijay Nagar", type: "Urban" }] },
        { name: "Sagar", areas: [{ name: "Tili Road", type: "Urban" }, { name: "Makronia", type: "Urban" }, { name: "Banda", type: "Rural" }, { name: "Khurai", type: "Rural" }] },
        { name: "Rewa", areas: [{ name: "Sirmour", type: "Urban" }, { name: "Mauganj", type: "Rural" }, { name: "Govindgarh", type: "Rural" }] },
        { name: "Satna", areas: [{ name: "Civil Lines", type: "Urban" }, { name: "Maihar", type: "Rural" }, { name: "Nagod", type: "Rural" }] },
        { name: "Katni", areas: [{ name: "Madanpur", type: "Urban" }, { name: "Barhi", type: "Rural" }, { name: "Vijayraghavgarh", type: "Rural" }] },
        { name: "Chhindwara", areas: [{ name: "Parasia", type: "Urban" }, { name: "Amarwara", type: "Rural" }, { name: "Chaurai", type: "Rural" }] },
        { name: "Damoh", areas: [{ name: "Civil Ward", type: "Urban" }, { name: "Hatta", type: "Rural" }, { name: "Patera", type: "Rural" }] },
        { name: "Singrauli", areas: [{ name: "Waidhan", type: "Urban" }, { name: "Jayant", type: "Urban" }, { name: "Chitrangi", type: "Rural" }] },
        { name: "Balaghat", areas: [{ name: "Waraseoni", type: "Urban" }, { name: "Baihar", type: "Rural" }, { name: "Lanji", type: "Rural" }] },
        { name: "Seoni", areas: [{ name: "Barghat", type: "Rural" }, { name: "Keolari", type: "Rural" }, { name: "Chhapara", type: "Urban" }] },
        { name: "Narsinghpur", areas: [{ name: "Gadarwara", type: "Urban" }, { name: "Kareli", type: "Rural" }, { name: "Gotegaon", type: "Urban" }] },
        { name: "Hoshangabad", areas: [{ name: "Itarsi", type: "Urban" }, { name: "Pipariya", type: "Urban" }, { name: "Sohagpur", type: "Rural" }] },
        { name: "Betul", areas: [{ name: "Sarni", type: "Urban" }, { name: "Multai", type: "Rural" }, { name: "Amla", type: "Rural" }] },
        { name: "Sidhi", areas: [{ name: "Churhat", type: "Rural" }, { name: "Sihawal", type: "Rural" }, { name: "Majhauli", type: "Rural" }] }
      ]
    };

    const eicherModels = {
      haulage: [{ name: "Pro 2115", application: "Marble transport, FMCG" }, { name: "Pro 3015", application: "Marble transport, FMCG" }, { name: "Pro 6025", application: "Industrial goods, cement" }, { name: "Pro 3015 CNG", application: "Eco-friendly FMCG" }, { name: "Pro 6045", application: "Tanker, bulkers" }],
      tippers: [{ name: "Pro 6015 XPT", application: "Construction, small mining" }, { name: "Pro 8035XM", application: "Heavy mining" }, { name: "Pro 6025T", application: "Medium mining" }],
      transitMixers: [{ name: "Pro 6025TM", application: "RMC delivery" }, { name: "Pro 6035TM", application: "Large RMC projects" }]
    };

    // App Logic
    function renderApp() {
      let selectedCity = '', selectedArea = '', selectedType = '', selectedCategory = '', selectedModel = '', filteredLeads = [], showDownload = false;
      const app = document.getElementById('app');

      function updateUI() {
        app.innerHTML = `
          <h2>🚛 Eicher Lead Generation</h2>
          ${showDownload ? '<div class="download-container"><button class="download-button">Download <i class="fas fa-download"></i></button><div class="download-dropdown"><button onclick="downloadExcel()">📊 Excel File</button><button onclick="downloadPDF()">📄 PDF File</button></div></div>' : ''}
          <div class="input-group"><label><i class="fas fa-globe"></i> Country:</label><input type="text" value="India" disabled></div>
          <div class="input-group"><label><i class="fas fa-map-marked-alt"></i> State:</label><input type="text" value="Madhya Pradesh" disabled></div>
          <div class="input-group"><label><i class="fas fa-city"></i> City:</label><select onchange="selectedCity=this.value; selectedArea=''; updateUI()"><option value="">Select City</option>${geoData.cities.map(c => `<option value="${c.name}">${c.name}</option>`).join('')}</select></div>
          <div class="input-group"><label><i class="fas fa-map-pin"></i> Area:</label><select onchange="selectedArea=this.value" disabled=${!selectedCity}><option value="">Select Area</option>${selectedCity ? geoData.cities.find(c => c.name === selectedCity).areas.map(a => `<option value="${a.name}">${a.name}</option>`).join('') : ''}</select></div>
          <div class="input-group"><label><i class="fas fa-layer-group"></i> Type:</label><select onchange="selectedType=this.value"><option value="">Select Type</option><option value="Urban">Urban</option><option value="Rural">Rural</option></select></div>
          <div class="input-group"><label><i class="fas fa-truck"></i> Category:</label><select onchange="selectedCategory=this.value; selectedModel=''; updateUI()"><option value="">Select Category</option><option value="haulage">Haulage Trucks</option><option value="tippers">Tippers</option><option value="transitMixers">Transit Mixers</option></select></div>
          <div class="input-group"><label><i class="fas fa-cog"></i> Model:</label><select onchange="selectedModel=this.value" disabled=${!selectedCategory}><option value="">Select Model</option>${selectedCategory ? eicherModels[selectedCategory].map(m => `<option value="${m.name}">${m.name}</option>`).join('') : ''}</select></div>
          <button onclick="handleGenerateLeads()">Generate Leads <i class="fas fa-check"></i></button>
          <div><h3>📋 Leads</h3>${filteredLeads.length === 0 ? '<p><i class="fas fa-info-circle"></i> No leads found. Please select valid options.</p>' : `<table><thead><tr><th>📌 Business Name</th><th>📞 Contact Number</th><th>🏠 Address</th><th>📍 Area</th><th>🏭 Business Type</th><th>🚚 Application</th><th>🌐 Source</th></tr></thead><tbody>${filteredLeads.map(l => `<tr><td>${l.businessName}</td><td>${l.contactNumber}</td><td>${l.address}</td><td>${l.area}</td><td>${l.businessType}</td><td>${l.application}</td><td>${l.source}</td></tr>`).join('')}</tbody></table>`}</div>
        `;
      }

      function handleGenerateLeads() {
        filteredLeads = leads.filter(l => l.area === selectedArea && l.model === selectedModel && (selectedType === '' || l.areaType === selectedType) && l.verified === true); // Only verified leads
        showDownload = filteredLeads.length > 0;
        updateUI();
      }

      function downloadExcel() {
        const worksheet = XLSX.utils.json_to_sheet(filteredLeads);
        const workbook = XLSX.utils.book_new();
        XLSX.utils.book_append_sheet(workbook, worksheet, "Leads");
        worksheet['!cols'] = [{ wch: 20 }, { wch: 20 }, { wch: 30 }, { wch: 15 }, { wch: 20 }, { wch: 25 }, { wch: 15 }];
        XLSX.utils.sheet_add_aoa(worksheet, [["Eicher Lead Generation", "", "", "", "", "", `Generated on: ${new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' })}`]], { origin: "A1" });
        XLSX.writeFile(workbook, "Eicher_Leads.xlsx");
      }

      function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        doc.setFont("Helvetica", "bold");
        doc.setFontSize(20);
        doc.text("Eicher Lead Generation", 10, 10);
        doc.setFontSize(12);
        doc.text(`Generated on: ${new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' })}`, 10, 20);
        doc.setFontSize(10);
        doc.setFont("Helvetica", "normal");
        const tableData = filteredLeads.map(l => [l.businessName, l.contactNumber, l.address, l.area, l.businessType, l.application, l.source]);
        doc.autoTable({ head: [['Business Name', 'Contact Number', 'Address', 'Area', 'Business Type', 'Application', 'Source']], body: tableData, startY: 30, styles: { fontSize: 8 }, headStyles: { fillColor: [30, 64, 175] } });
        doc.text("Generated by Eicher Lead Generation System", 10, doc.lastAutoTable.finalY + 10);
        doc.save("Eicher_Leads.pdf");
      }

      updateUI();
    }

    // Initial Render
    renderApp();

    // Load XLSX and jsPDF
    const scriptXLSX = document.createElement('script');
    scriptXLSX.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
    scriptXLSX.onload = () => {
      const scriptJSPDF = document.createElement('script');
      scriptJSPDF.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
      scriptJSPDF.onload = () => console.log('Libraries loaded');
      document.body.appendChild(scriptJSPDF);
    };
    document.body.appendChild(scriptXLSX);
  </script>
</body>
</html>
